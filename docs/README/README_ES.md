<div align="center">
  
  <img src="docs/images/logo.png" width="400" alt="QueryGPT">
  
  <br/>
  
  <p>
    <a href="README.md">English</a> â€¢
    <a href="docs/README_CN.md">ç®€ä½“ä¸­æ–‡</a> â€¢
    <a href="#">EspaÃ±ol</a>
  </p>
  
  <br/>
  
  [![License](https://img.shields.io/badge/Licencia-MIT-yellow.svg?style=for-the-badge)](LICENSE)
  [![Python](https://img.shields.io/badge/Python-3.10+-blue.svg?style=for-the-badge&logo=python&logoColor=white)](https://www.python.org/)
  [![OpenInterpreter](https://img.shields.io/badge/OpenInterpreter-0.4.3-green.svg?style=for-the-badge)](https://github.com/OpenInterpreter/open-interpreter)
  [![Stars](https://img.shields.io/github/stars/MKY508/QueryGPT?style=for-the-badge&color=yellow)](https://github.com/MKY508/QueryGPT/stargazers)
  
  <br/>
  
  <h3>Un agente inteligente de anÃ¡lisis de datos basado en OpenInterpreter</h3>
  <p><i>Conversa con tu base de datos en lenguaje natural</i></p>
  
</div>

<br/>

---

## ğŸ“‹ DescripciÃ³n del Proyecto

**QueryGPT** es un sistema inteligente de consulta y anÃ¡lisis de datos que revoluciona la forma en que interactuamos con bases de datos. Utilizando tecnologÃ­a de IA de vanguardia, permite a usuarios de todos los niveles tÃ©cnicos realizar anÃ¡lisis complejos de datos simplemente escribiendo en lenguaje natural.

### Â¿QuÃ© es QueryGPT?

QueryGPT es un agente de IA que actÃºa como tu analista de datos personal. No solo convierte lenguaje natural en SQL, sino que:
- **Explora autÃ³nomamente** tus datos para entender su estructura
- **Razona como un analista humano** investigando anomalÃ­as y validando resultados
- **Ejecuta cÃ³digo Python** para anÃ¡lisis estadÃ­sticos avanzados y machine learning
- **Visualiza automÃ¡ticamente** los resultados en grÃ¡ficos interactivos
- **Muestra su proceso de pensamiento** en tiempo real (Chain-of-Thought)

## âœ¨ CaracterÃ­sticas Principales

### ğŸ¤– Capacidades del Agente IA

#### ExploraciÃ³n AutÃ³noma de Datos
- El agente examina proactivamente la estructura de tablas y datos de muestra
- Descubre relaciones entre tablas automÃ¡ticamente
- Identifica patrones y anomalÃ­as sin intervenciÃ³n humana

#### Razonamiento Multi-ronda
- Cuando encuentra problemas, investiga profundamente como un analista real
- Valida resultados mediante mÃºltiples verificaciones
- Auto-corrige errores y optimiza consultas

#### Proceso de Pensamiento Transparente
- VisualizaciÃ³n en tiempo real del razonamiento del agente (Chain-of-Thought)
- Posibilidad de intervenir y guiar el proceso en cualquier momento
- Historial completo de decisiones y acciones tomadas

### ğŸ“Š AnÃ¡lisis de Datos Avanzado

#### SQL + Python Integrado
- No limitado a consultas SQL simples
- Ejecuta cÃ³digo Python complejo para:
  - AnÃ¡lisis estadÃ­stico avanzado
  - Machine learning y predicciones
  - Procesamiento de datos personalizado
  - CÃ¡lculos matemÃ¡ticos complejos

#### VisualizaciÃ³n Inteligente
- SelecciÃ³n automÃ¡tica del mejor tipo de grÃ¡fico segÃºn los datos
- GrÃ¡ficos interactivos con Plotly
- Dashboards personalizables
- ExportaciÃ³n en mÃºltiples formatos (HTML, PNG, PDF)

#### ComprensiÃ³n de TÃ©rminos de Negocio
- Entiende conceptos empresariales nativamente:
  - Crecimiento interanual (YoY) y mensual (MoM)
  - Tasas de retenciÃ³n y conversiÃ³n
  - AnÃ¡lisis de cohortes
  - KPIs y mÃ©tricas empresariales

### ğŸŒ Soporte Multiidioma

QueryGPT soporta **10 idiomas** principales para una experiencia global:
- ğŸ‡ªğŸ‡¸ EspaÃ±ol
- ğŸ‡¬ğŸ‡§ InglÃ©s
- ğŸ‡¨ğŸ‡³ Chino (Simplificado y Tradicional)
- ğŸ‡·ğŸ‡º Ruso
- ğŸ‡µğŸ‡¹ PortuguÃ©s
- ğŸ‡«ğŸ‡· FrancÃ©s
- ğŸ‡°ğŸ‡· Coreano
- ğŸ‡©ğŸ‡ª AlemÃ¡n
- ğŸ‡¯ğŸ‡µ JaponÃ©s

### ğŸ”’ Seguridad y Control

- **Permisos de solo lectura**: ProtecciÃ³n contra modificaciones accidentales
- **PrevenciÃ³n de inyecciÃ³n SQL**: Filtrado automÃ¡tico de comandos peligrosos
- **Enmascaramiento de datos sensibles**: ProtecciÃ³n de informaciÃ³n confidencial
- **AuditorÃ­a completa**: Registro de todas las consultas y acciones

## ğŸ›  Stack TecnolÃ³gico

### Backend
- **Python 3.10+**: Lenguaje principal del servidor
- **Flask**: Framework web ligero y flexible
- **OpenInterpreter 0.4.3**: Motor de ejecuciÃ³n de cÃ³digo IA
- **SQLAlchemy**: ORM para gestiÃ³n de base de datos
- **Pandas**: Procesamiento y anÃ¡lisis de datos
- **NumPy**: CÃ¡lculos numÃ©ricos avanzados

### Frontend
- **HTML5/CSS3**: Estructura y estilos modernos
- **JavaScript ES6+**: LÃ³gica de interfaz interactiva
- **Plotly.js**: Visualizaciones interactivas
- **Bootstrap 5**: Framework CSS responsivo
- **Marked.js**: Renderizado de Markdown

### Base de Datos
- **MySQL**: Sistema principal de gestiÃ³n de datos
- **PostgreSQL**: Soporte alternativo
- **SQLite**: Para desarrollo y pruebas
- Compatibilidad con cualquier base de datos SQL

### IA y Modelos
- **GPT-4/GPT-3.5**: Modelos de OpenAI
- **Claude**: Modelos de Anthropic
- **Gemini**: Modelos de Google
- **Ollama**: Modelos locales (Llama, Qwen, etc.)

## ğŸ“¸ Capturas de Pantalla del Sistema

<table>
  <tr>
    <td width="50%">
      <strong>ğŸ¤– Proceso de Pensamiento del Agente Inteligente</strong><br/>
      <img src="docs/images/agent-thinking-en.png" width="100%" alt="Interfaz QueryGPT"/>
      <p align="center">VisualizaciÃ³n transparente de la cadena de pensamiento</p>
    </td>
    <td width="50%">
      <strong>ğŸ“Š VisualizaciÃ³n de Datos</strong><br/>
      <img src="docs/images/data-visualization-en.png" width="100%" alt="VisualizaciÃ³n de Datos"/>
      <p align="center">GeneraciÃ³n inteligente de grÃ¡ficos con selecciÃ³n automÃ¡tica</p>
    </td>
  </tr>
  <tr>
    <td width="50%">
      <strong>ğŸ‘¨â€ğŸ’» Vista de Desarrollador</strong><br/>
      <img src="docs/images/developer-view-en.png" width="100%" alt="Vista de Desarrollador"/>
      <p align="center">Detalles completos de ejecuciÃ³n, SQL y cÃ³digo transparente</p>
    </td>
    <td width="50%">
      <strong>ğŸŒ Soporte Multiidioma</strong><br/>
      <img src="docs/images/main-interface.png" width="100%" alt="Interfaz Principal"/>
      <p align="center">Soporte para 10 idiomas, accesible globalmente</p>
    </td>
  </tr>
</table>

## ğŸš€ Inicio RÃ¡pido

### InstalaciÃ³n Inicial

```bash
# 1. Clonar el repositorio
git clone https://github.com/MKY508/QueryGPT.git
cd QueryGPT

# 2. Ejecutar script de configuraciÃ³n (configura automÃ¡ticamente el entorno)
./setup.sh

# 3. Configurar variables de entorno
cp .env.example .env
# Editar .env con tu editor favorito y configurar:
# - OPENAI_API_KEY: Tu clave API de OpenAI
# - InformaciÃ³n de conexiÃ³n a base de datos

# 4. Iniciar el servicio
./start.sh
```

### Uso Posterior

```bash
# Inicio rÃ¡pido directo
./quick_start.sh
```

El servicio se ejecuta en http://localhost:5000 por defecto

> **Nota**: Si el puerto 5000 estÃ¡ ocupado, el sistema seleccionarÃ¡ automÃ¡ticamente el siguiente puerto disponible (5001-5010).

### ConfiguraciÃ³n de Base de Datos

1. **Crear usuario de solo lectura** (recomendado por seguridad):
```sql
CREATE USER 'querygpt_reader'@'localhost' IDENTIFIED BY 'tu_contraseÃ±a_segura';
GRANT SELECT ON tu_base_datos.* TO 'querygpt_reader'@'localhost';
FLUSH PRIVILEGES;
```

2. **Configurar conexiÃ³n en .env**:
```env
DB_HOST=localhost
DB_PORT=3306
DB_NAME=tu_base_datos
DB_USER=querygpt_reader
DB_PASSWORD=tu_contraseÃ±a_segura
```

## ğŸ’¡ Uso

### Ejemplos de Consultas

#### Consultas BÃ¡sicas
- "MuÃ©strame las ventas del Ãºltimo mes"
- "Â¿CuÃ¡ntos clientes tenemos en cada ciudad?"
- "Lista los 10 productos mÃ¡s vendidos"

#### AnÃ¡lisis Avanzado
- "Analiza la tendencia de ventas y predice los prÃ³ximos 3 meses"
- "Calcula la tasa de retenciÃ³n de clientes por cohorte mensual"
- "Encuentra correlaciones entre el precio del producto y el volumen de ventas"

#### Visualizaciones
- "Crea un grÃ¡fico de barras con las ventas por categorÃ­a"
- "Genera un dashboard con KPIs principales del negocio"
- "Muestra la distribuciÃ³n geogrÃ¡fica de clientes en un mapa"

### Modos de OperaciÃ³n

#### Modo Usuario
- Interfaz simplificada con resultados finales
- Visualizaciones automÃ¡ticas
- Respuestas en lenguaje natural

#### Modo Desarrollador
- Vista completa del cÃ³digo SQL generado
- Logs de ejecuciÃ³n detallados
- Acceso a resultados raw
- Debugging paso a paso

### API REST

#### Endpoint Principal
```http
POST /api/chat
Content-Type: application/json

{
  "message": "Analiza las ventas del Ãºltimo trimestre",
  "model": "gpt-4",
  "stream": true,
  "conversation_id": "uuid-opcional"
}
```

#### Respuesta
```json
{
  "success": true,
  "result": {
    "content": [
      {
        "type": "text",
        "content": "He analizado las ventas del Ãºltimo trimestre..."
      },
      {
        "type": "chart",
        "url": "/output/chart_ventas_trimestre.html"
      }
    ],
    "sql_query": "SELECT ...",
    "execution_time": 1.23
  },
  "conversation_id": "uuid-xxx"
}
```

## ğŸ“‹ Requisitos del Sistema

### Hardware MÃ­nimo
- **CPU**: 2 cores
- **RAM**: 4 GB
- **Disco**: 10 GB espacio libre

### Hardware Recomendado
- **CPU**: 4+ cores
- **RAM**: 8 GB o mÃ¡s
- **Disco**: 20 GB espacio libre
- **GPU**: Opcional, mejora el rendimiento con modelos locales

### Software
- **Sistema Operativo**: Linux, macOS, Windows (con WSL2)
- **Python**: 3.10.x (requerido especÃ­ficamente para OpenInterpreter 0.4.3)
- **Node.js**: 14+ (para desarrollo frontend)
- **Base de Datos**: MySQL 5.7+, PostgreSQL 10+, o SQLite

### Requisitos de Red
- ConexiÃ³n a Internet para modelos cloud (OpenAI, Claude, etc.)
- Puerto 5000 disponible (configurable)
- Acceso a la base de datos objetivo

## ğŸ”§ ConfiguraciÃ³n Avanzada

### Modelos Personalizados

AÃ±ade modelos personalizados en `config/models.json`:

```json
{
  "models": [
    {
      "name": "Mi Modelo Local",
      "id": "modelo-local",
      "type": "ollama",
      "api_base": "http://localhost:11434/v1",
      "api_key": "opcional"
    }
  ]
}
```

### Despliegue con Docker

```bash
# Construir imagen
docker build -t querygpt .

# Ejecutar contenedor
docker run -d \
  -p 5000:5000 \
  -v $(pwd)/config:/app/config \
  -v $(pwd)/logs:/app/logs \
  --env-file .env \
  querygpt
```

### ConfiguraciÃ³n de ProducciÃ³n

```bash
# Usar gunicorn para producciÃ³n
gunicorn -w 4 -b 0.0.0.0:5000 backend.app:app

# Con nginx como proxy reverso
# Ver docs/DEPLOYMENT.md para configuraciÃ³n completa
```

## ğŸ“„ Licencia

Este proyecto estÃ¡ licenciado bajo la Licencia MIT - ver el archivo [LICENSE](LICENSE) para mÃ¡s detalles.

### Â¿QuÃ© significa esto?

La Licencia MIT es una de las licencias de software libre mÃ¡s permisivas:

- âœ… **Uso comercial**: Puedes usar QueryGPT en proyectos comerciales
- âœ… **ModificaciÃ³n**: Puedes modificar el cÃ³digo segÃºn tus necesidades
- âœ… **DistribuciÃ³n**: Puedes distribuir el software
- âœ… **Uso privado**: Puedes usar el software privadamente
- â— **Sin garantÃ­a**: El software se proporciona "tal cual"
- â— **Sin responsabilidad**: Los autores no son responsables de daÃ±os

## ğŸ‘¥ Comunidad y Soporte

### Obtener Ayuda
- ğŸ“– [DocumentaciÃ³n completa](https://github.com/MKY508/QueryGPT/wiki)
- ğŸ’¬ [Discusiones en GitHub](https://github.com/MKY508/QueryGPT/discussions)
- ğŸ› [Reportar problemas](https://github.com/MKY508/QueryGPT/issues)

### Contribuir
Â¡Las contribuciones son bienvenidas! Por favor:

1. Fork el proyecto
2. Crea tu rama de caracterÃ­sticas (`git checkout -b feature/CaracteristicaIncreible`)
3. Commit tus cambios (`git commit -m 'AÃ±adir CaracteristicaIncreible'`)
4. Push a la rama (`git push origin feature/CaracteristicaIncreible`)
5. Abre un Pull Request

### Autor
- **Creador**: Mao Kaiyue
- **GitHub**: [@MKY508](https://github.com/MKY508)
- **Creado**: Agosto 2025

## â­ Apoya el Proyecto

Si encuentras Ãºtil QueryGPT, considera:
- â­ Dar una estrella al repositorio
- ğŸ”€ Compartir con colegas y amigos
- ğŸ“ Escribir sobre tu experiencia
- ğŸ¤ Contribuir con cÃ³digo o documentaciÃ³n

---

<div align="center">
  <p>Hecho con â¤ï¸ para la comunidad de anÃ¡lisis de datos</p>
  <p>
    <a href="https://github.com/MKY508/QueryGPT">GitHub</a> â€¢
    <a href="https://github.com/MKY508/QueryGPT/wiki">Wiki</a> â€¢
    <a href="https://github.com/MKY508/QueryGPT/discussions">Discusiones</a>
  </p>
</div>